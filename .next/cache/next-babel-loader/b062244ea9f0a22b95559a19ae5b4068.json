{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Downloads\\\\marychew97.github.io-weather\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\nimport '../styles.sass';\nimport '../styles.scss';\nimport React from 'react';\nimport axios from 'axios';\n\nvar Index =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Index, _React$Component);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n    _this.state = {\n      location: '',\n      country: '',\n      lat: null,\n      \"long\": null,\n      date: '',\n      temp: 0,\n      weather: '',\n      image: null,\n      hourForecast: [],\n      weekForecast: [],\n      monthAvg: []\n    };\n    _this.getLocationWeather = _this.getLocationWeather.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getLocationWeather();\n    }\n  }, {\n    key: \"getLocationWeather\",\n    value: function getLocationWeather() {\n      var _this2 = this;\n\n      return _regeneratorRuntime.async(function getLocationWeather$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(navigator.geolocation.getCurrentPosition(function (position) {\n                var lat = position.coords.latitude;\n                var _long = position.coords.longitude;\n\n                _this2.setState({\n                  lat: lat,\n                  \"long\": _long\n                });\n\n                axios.get(\"https://api.openweathermap.org/data/2.5/weather?lat=\".concat(lat, \"&lon=\").concat(_long, \"&appid=bb8842d60516f2656d00cdbc9f999293\")).then(function (res) {\n                  var result = res.data;\n                  console.log(result); //in kelvin\n                  // this.getTemp(result.main.temp)\n\n                  _this2.setState({\n                    location: result.name,\n                    country: result.sys.country,\n                    weather: result.weather[0].main,\n                    date: _this2.getDate(result.dt)\n                  });\n                });\n\n                _this2.getWeekForecast(lat, _long);\n\n                _this2.getHourForecast(lat, _long);\n              }));\n\n            case 2:\n              console.log(this.state);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"getWeekForecast\",\n    value: function getWeekForecast(lat, _long2) {\n      var _this3 = this;\n\n      axios.get(\"http://api.worldweatheronline.com/premium/v1/weather.ashx?key=453ff5c4911348cd95e91044201102&q=\".concat(lat, \",\").concat(_long2, \"&format=json&num_of_days=8\")).then(function (res) {\n        var result = res.data.data;\n        console.log(result);\n\n        _this3.setState({\n          temp: result.current_condition[0].temp_C,\n          image: result.current_condition[0].weatherIconUrl[0].value,\n          monthAvg: result.ClimateAverages[0]\n        });\n\n        result.weather.map(function (data) {\n          var day = new Date(data.date);\n          var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n          day = days[day.getDay()];\n\n          _this3.setState({\n            weekForecast: [].concat(_toConsumableArray(_this3.state.weekForecast), [{\n              day: day,\n              date: data.date,\n              maxTemp: data.maxtempC,\n              hour: {\n                time: data.hourly\n              }\n            }])\n          });\n        });\n      });\n    }\n  }, {\n    key: \"getHourForecast\",\n    value: function getHourForecast(lat, _long3) {\n      var _this4 = this;\n\n      axios.get(\"http://api.worldweatheronline.com/premium/v1/weather.ashx?key=453ff5c4911348cd95e91044201102&q=\".concat(lat, \",\").concat(_long3, \"&format=json&num_of_days=7\")).then(function (res) {\n        var result = res.data.data;\n        result.weather[0].hourly.map(function (data) {\n          _this4.setState({\n            hourForecast: [].concat(_toConsumableArray(_this4.state.hourForecast), [{\n              time: data.time,\n              temp: data.tempC,\n              weather: data.weatherDesc[0].value,\n              image: data.weatherIconUrl[0].value\n            }])\n          });\n        });\n      });\n    }\n  }, {\n    key: \"getDate\",\n    value: function getDate(dt) {\n      var tf = new Date(dt * 1000);\n      var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n      var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n      var day = days[tf.getDay()];\n      var date = tf.getDate();\n      var month = months[tf.getMonth()];\n      var year = tf.getFullYear();\n      return \"\".concat(day, \", \").concat(date, \" \").concat(month, \" \").concat(year);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var hours = ['0000', '0300', '0600', '0900', '1200', '1500', '1800', '2100'];\n      console.log(this.state);\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"columns is-desktop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"column is-three-fifths is-offset-one-fifth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"card-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Weather Forecast\"), __jsx(\"h1\", {\n        className: \"title is-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, this.state.location, \", \", this.state.country), __jsx(\"p\", {\n        className: \"subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"(\", this.state.lat, \", \", this.state[\"long\"], \")\"), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), __jsx(\"p\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, this.state.date), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }), __jsx(\"p\", {\n        className: \"subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, this.state.temp, \"\\u2103\", __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), this.state.weather, __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), __jsx(\"img\", {\n        src: this.state.image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }))), __jsx(\"div\", {\n        className: \"card-hour\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        className: \"subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Hourly Weather Forecast\"), __jsx(\"div\", {\n        className: \"table-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, __jsx(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, __jsx(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, __jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, hours.map(function (hour) {\n        return __jsx(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, hour);\n      }))), __jsx(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, __jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, this.state.hourForecast.map(function (data) {\n        return __jsx(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, data.temp, \"\\u2103\", __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }), __jsx(\"img\", {\n          src: data.image,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }), data.weather);\n      })))))), __jsx(\"div\", {\n        className: \"card-week\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        className: \"subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Weekly Weather Forecast\"), __jsx(\"div\", {\n        className: \"table-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, __jsx(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, __jsx(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, __jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, __jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }), hours.map(function (hour) {\n        return __jsx(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, hour);\n      }))), __jsx(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, this.state.weekForecast.map(function (day) {\n        return __jsx(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, __jsx(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, __jsx(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, day.day), \"\\xA0\\xA0\", day.date), day.hour.time.map(function (data) {\n          return __jsx(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 195\n            },\n            __self: this\n          }, data.tempC, \"\\u2103\", __jsx(\"img\", {\n            src: data.weatherIconUrl[0].value,\n            alt: \"weather icon\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 197\n            },\n            __self: this\n          }));\n        }));\n      }))))), __jsx(\"div\", {\n        className: \"card-month\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        className: \"subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Average Monthly Weather Forecast\"), __jsx(\"div\", {\n        className: \"table-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, __jsx(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, __jsx(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, __jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, this.state.hourForecast.map(function (data) {\n        return __jsx(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, data.temp, \"\\u2103\", __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }), __jsx(\"img\", {\n          src: data.image,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }), data.weather);\n      }))))))))));\n    }\n  }]);\n\n  return Index;\n}(React.Component);\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/user/Downloads/marychew97.github.io-weather/pages/index.js"],"names":["React","axios","Index","props","state","location","country","lat","date","temp","weather","image","hourForecast","weekForecast","monthAvg","getLocationWeather","bind","navigator","geolocation","getCurrentPosition","position","coords","latitude","long","longitude","setState","get","then","res","result","data","console","log","name","sys","main","getDate","dt","getWeekForecast","getHourForecast","current_condition","temp_C","weatherIconUrl","value","ClimateAverages","map","day","Date","days","getDay","maxTemp","maxtempC","hour","time","hourly","tempC","weatherDesc","tf","months","month","getMonth","year","getFullYear","hours","Component"],"mappings":"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","sourcesContent":["import '../styles.sass';\r\nimport '../styles.scss';\r\n\r\nimport React from 'react';\r\nimport axios from 'axios';\r\n\r\nclass Index extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.state = {\r\n            location: '',\r\n            country: '',\r\n            lat: null,\r\n            long: null,\r\n            date: '',\r\n            temp: 0,\r\n            weather: '',\r\n            image: null,\r\n            hourForecast: [],\r\n            weekForecast: [],\r\n            monthAvg: []\r\n        }\r\n\r\n        this.getLocationWeather = this.getLocationWeather.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getLocationWeather();\r\n    }\r\n\r\n    async getLocationWeather(){\r\n        await navigator.geolocation.getCurrentPosition(\r\n            position => {\r\n                const lat = position.coords.latitude;\r\n                const long = position.coords.longitude;\r\n                this.setState({\r\n                    lat: lat,\r\n                    long: long\r\n                })\r\n                axios.get(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${long}&appid=bb8842d60516f2656d00cdbc9f999293`)\r\n                    .then(res => {\r\n                        const result = res.data;\r\n                        console.log(result)\r\n                        \r\n                        //in kelvin\r\n                        // this.getTemp(result.main.temp)\r\n                        this.setState({\r\n                            location: result.name,\r\n                            country: result.sys.country,\r\n                            weather: result.weather[0].main,\r\n                            date: this.getDate(result.dt)\r\n                        })\r\n                    })\r\n\r\n                this.getWeekForecast(lat,long);\r\n                this.getHourForecast(lat,long);\r\n                \r\n            }\r\n        )\r\n        console.log(this.state)\r\n    }\r\n\r\n    getWeekForecast(lat, long){\r\n        axios.get(`http://api.worldweatheronline.com/premium/v1/weather.ashx?key=453ff5c4911348cd95e91044201102&q=${lat},${long}&format=json&num_of_days=8`)\r\n            .then(res => {\r\n                const result = res.data.data\r\n                console.log(result)\r\n                this.setState({\r\n                    temp: result.current_condition[0].temp_C,\r\n                    image: result.current_condition[0].weatherIconUrl[0].value,\r\n                    monthAvg: result.ClimateAverages[0]\r\n                })\r\n                result.weather.map(data => {\r\n                    var day = new Date(data.date);\r\n                    var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n                    day = days[day.getDay()];\r\n                    this.setState({\r\n                    weekForecast: [...this.state.weekForecast, {\r\n                        day: day,\r\n                        date: data.date,\r\n                        maxTemp:data.maxtempC,\r\n                        hour: {\r\n                            time: data.hourly\r\n                        }\r\n                    }]\r\n                })})\r\n            })\r\n    }\r\n\r\n    getHourForecast(lat, long){\r\n        axios.get(`http://api.worldweatheronline.com/premium/v1/weather.ashx?key=453ff5c4911348cd95e91044201102&q=${lat},${long}&format=json&num_of_days=7`)\r\n        .then(res => {\r\n            const result = res.data.data\r\n            result.weather[0].hourly.map(data => {\r\n                this.setState({\r\n                hourForecast: [...this.state.hourForecast, {\r\n                    time: data.time,\r\n                    temp:data.tempC,\r\n                    weather: data.weatherDesc[0].value,\r\n                    image: data.weatherIconUrl[0].value\r\n                }]\r\n            })})\r\n        })\r\n    }\r\n\r\n    getDate(dt){\r\n        var tf = new Date(dt*1000);\r\n        var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n        var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n        var day = days[tf.getDay()];\r\n        var date = tf.getDate();\r\n        var month = months[tf.getMonth()];\r\n        var year = tf.getFullYear();\r\n        return `${day}, ${date} ${month} ${year}`;\r\n    }\r\n\r\n    render(){\r\n        var hours = ['0000', '0300', '0600', '0900', '1200', '1500', '1800', '2100'];\r\n        console.log(this.state)\r\n        return(\r\n            <div>\r\n                <div className=\"columns is-desktop\">\r\n                    <div className=\"column is-three-fifths is-offset-one-fifth\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-content\">\r\n                            <p className=\"title\">\r\n                            Weather Forecast\r\n                            </p>\r\n                            <h1 className=\"title is-1\">\r\n                            {this.state.location}, {this.state.country}\r\n                            </h1>\r\n                            <p className=\"subtitle\">\r\n                            ({this.state.lat}, {this.state.long})\r\n                            </p>\r\n                            <br/>\r\n                            <p className=\"title\">\r\n                            {this.state.date}\r\n                            </p>\r\n                            <br/>\r\n                            <p className=\"subtitle\">\r\n                                {this.state.temp}&#8451;\r\n                                <br/>\r\n                                {this.state.weather}\r\n                                <br/><br/>\r\n                                <img src={this.state.image} />\r\n                            </p>    \r\n                        </div>\r\n                        <div className=\"card-hour\">\r\n                            <p className=\"subtitle\">\r\n                            Hourly Weather Forecast\r\n                            </p>\r\n                            <div className=\"table-container\">\r\n                                <table className=\"table\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            {hours.map(hour => \r\n                                                <th>{hour}</th>\r\n                                            )}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            {this.state.hourForecast.map(data => \r\n                                                <td>\r\n                                                    {data.temp}&#8451;<br/>\r\n                                                    <img src={data.image}/>\r\n                                                    {data.weather}\r\n                                                </td>\r\n                                            )}\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card-week\">\r\n                            <p className=\"subtitle\">\r\n                                Weekly Weather Forecast\r\n                            </p>\r\n                            <div className=\"table-container\">\r\n                                <table className=\"table\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th></th>\r\n                                            {hours.map(hour => \r\n                                                <th>{hour}</th>\r\n                                            )}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                            {this.state.weekForecast.map(day => \r\n                                            <tr>\r\n                                                <td><b>{day.day}</b>&nbsp;&nbsp;{day.date}</td>\r\n                                                {day.hour.time.map(data => \r\n                                                    <td>\r\n                                                        {data.tempC}&#8451;\r\n                                                        <img src={data.weatherIconUrl[0].value} alt=\"weather icon\"/>\r\n                                                        {/* {data.weatherDesc[0].value} */}\r\n                                                    </td>\r\n                                                )}\r\n                                            </tr>\r\n                                            )}\r\n                                        \r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card-month\">\r\n                            <p className=\"subtitle\">\r\n                            Average Monthly Weather Forecast\r\n                            </p>\r\n                            <div className=\"table-container\">\r\n                                <table className=\"table\">\r\n                                    {/* <thead>\r\n                                        <tr>\r\n                                            {hours.map(hour => \r\n                                                <th>{hour}</th>\r\n                                            )}\r\n                                        </tr>\r\n                                    </thead> */}\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            {this.state.hourForecast.map(data => \r\n                                                <td>\r\n                                                    {data.temp}&#8451;<br/>\r\n                                                    <img src={data.image}/>\r\n                                                    {data.weather}\r\n                                                </td>\r\n                                            )}\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}